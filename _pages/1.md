---
title: Язык и семантика классической логики предикатов первого порядка
category: Jekyll
layout: post
---

# Язык

Договоримся использовать в качестве индивидных констант буквы из начала алфавита $Cnst = \\{ a, b, c, d, a_1, a_2, \dots \\}$, в качестве индивидных переменных буквы из конца алфавита $Vr =\\{x, y, z, x_1, y_1, \dots \\}$, в качестве функциональных констант буквы из середины алфавита. $Fn = \\{f, g, h, f_1, g_1, \dots \\}$.

*Определение*. *Терм*
* Индивидная константа является термом.
* Индивидная переменная является термом.
* Если $t_1, \dots, t_n$ – термы, а  $f$ – $n$-местная индивидная функция, то $f(t_1, \dots, t_n)$ – тоже терм.

Это определение можно кратко записать при помощи следующей грамматики: 

$$t:: = c \mid  x \mid f(t_1, \dots, t_n) $$ 

где $c \in Cnst$, $x \in Vr$.


*Пример*. Следующие выражения являются термами:
* $a$
* $x$
* $f(a)$
* $g(a,b)$
* $g(f(a), g(x, f(f(x))))$

*Пример*. Рассмотрим следующий пример:  
*  0 - <<число ноль>>
*  1 - <<число один>>
*  2 – <<число два>>
*  +(1,2)  – <<сумма единицы и двойки>> (конечно удобно договориться и вместо <<$+(1,2)$>> писать <<$1 + 2$>>)
*  +(1,+(2,3)) –  <<сумма единицы и суммы двойки и тройки>>
*  x+1 –  <<число, которое на единицу больше данного >>

Интуитивно термы удобно воспринимать как (сложные) имена. 

*Пример*. Рассмотрим следующее соответствие между термами и выражениями в естественном языка:
* $a$ – <<Анна>> 
* $b$ – <<Борис>> 
* $f(a)$ – <<отец Анны>>
* $f(f(a))$ – <<дедушка Анны по отцовской линии>>
* $x$ – <<он>>
* $f(x)$ – <<его отец>>
* $g(a, b)$ – <<старший среди Анны и Бориса>>
* $g(x, b)$ – <<старший среди него и  Бориса>>
* $f(f(g(f(a), f(b))))$ – <<дедушка по отцовской линии самого старшего среди отца Анны и отца Бориса>>

*Определение*.

$$\Phi::= P(t_1, \dots, t_n) \mid \neg \Phi \mid (\Phi \wedge \Phi) \mid (\Phi \vee  \Phi ) \mid (\Phi \to \Phi ) \mid \exists x \Phi \mid \forall x \Phi $$

# Формализация естественного языка

**Упражнение (с ответами)**. Запишите следующие высказывания на языке логике предиктатов, используя следующие обозначания:
- $a$ – "Аня"
- $b$ – "Боря"
- $c$ – "Сережа"
- $P$ – "быть умным" 
- $Q$ – "быть красивым".
<details><summary> Боря – умный, Сережа – красивый, а Аня и умная, и красивая  </summary> $$Pb \wedge Qc \wedge Pa \wedge Qa$$ </details>
<details><summary> Боря умный, а Сережа – красивый. </summary>  $$Pb \to Qc$$ </details>
<details><summary> Если Боря красивый, то Аня - умная. </summary> $$Qb \to Pa$$ </details>
<details><summary> Если Сережа красивый, то все красивые. </summary> $$Qc \to \forall x Qx$$ </details>
<details><summary> Никто не красив и умен одновременно. </summary> $$\neg \exists x (Qx \wedge Px)$$ </details>

# Семантика

*Определение*. Моделью называется пара $M = (D, I_M)$, где $D \not = \varnothing$ – носитель интерпретации (домен, универсум), $I_M$ – функция интерпретации, областью определения которой является множество $Cnst \cup Fn \cup Pr$ и такая, что 
* $I_M(c) \in D$ для $c \in Cnst$
* $I_M(f): D^n \to D$ для $f\in Fn$ от $n$ аргументов
* $I_M(P) \subseteq D^n$ для $P\in Pr$  от $n$ аргументов

*Обозначение*. Будем писать $c_M$ вместо $I_M(c)$, $f_M$ вместо $I_M(f)$ и  $P_M$ вместо $I_M(P)$.  

*Определение*.  *Означиванием* будем называть функцию $v: Vr \to D$.

*Определение*. *Значение терма* (обозначение: $\|t\|^v_M$) Пусть $M = (D, I)$ - модель классической логики предикатов первого порядка, $v$ – означивание. Определим по индукции значение терма в модели $M$ при означивании $v$ 
* $\|c\|^v_M = c_M \in D$ для $c \in Cnst$
* $\|x\|^v_M = v(x) \in D$ для $x \in Vr$
* $\|f(t_1, \dots, t_n)\|^v_M = f_M(\|t_1\|^v_M, \dots, \|t_n\|^v_M) \in D$ для  $f \in Fn$, $t_1, \dots, t_n \in Trm$

Часто мы будем писать $\|t\|^v$ вместо $\|t\|^v_M$, если из контекста понятно, о какой модели идет речь. Также будем писать $\|t\|^{x \mapsto a}$, указывая на ту часть означивания, которая важна для оценки терма.

*Упражнение*. Пусть модель $M = (\mathbb{N}, I_M)$, где $I_M$ –  функция такая, что $I_M(f)$ – операция сложения в обычном арифметическом смысле,  $I_M(g)$ – операция умножения в обычном арифметическом смысле; $a_M = 0$, $b_M=1$ пусть $v$ – означивание такое, что $v: x \mapsto 2, y \mapsto 3$. Вычислите значение для следующих термов:
* $\|f(a,b)\|^v_M$
* $\|g(a,x)\|^v_M$
* $\|f(x,x)\|^v_M$
* $\|g(a,f(y,x))\|^v_M$

*Обозначение*. Пусть $v$ – означивание, обозначим  $v^x_a$ новое означивание, которое  переменной $x$ сопоставляет объект $a \in D$, а в остальном совпадает с $v$.

*Определение*. Пусть $M = (D, I)$ - модель классической логики предикатов первого порядка, $v$ – означивание. Дадим индуктивное определение истинности формулы в модели при означивании.
* $M, v \models P(t_1, \dots, t_n)$ е.т.е. $\langle \|t_1\|^v_M, \dots, \|t_n\|^v_M \rangle \in P_M$
* $M, v \models \neg \Phi$ е.т.е. $M, v \not \models \Phi$
* $M, v \models \Phi \wedge \Psi$ е.т.е. $M, v \models \Phi$ и $M, v \models  \Psi$
* $M, v \models \Phi \vee \Psi$ е.т.е. $M, v \models \Phi$ или $M, v \models  \Psi$
* $M, v \models \Phi \to \Psi$ е.т.е. если $M, v \models \Phi$, то $M, v \models  \Psi$
* $M, v \models \exists x \Phi$ е.т.е. найдется $d \in D$: $M, v^x_d \models \Phi$
* $M, v \models \forall x \Phi$ е.т.е. для любого $d \in D$: $M, v^x_d \models \Phi$

*Пример*. Опишем условия истинности для конкретных формул:
* $M, v \models P(a)$ ⇔  $\|a\|^v_M \in P_M $
* $M, v \models P(x)$ ⇔ $\|x\|^v_M \in P_M$ ⇔ $v(x) \in P_M$
* $M, v \models R(a,b)$ ⇔ $\langle \|a\|^v_M, \|b\|^v_M \rangle  \in R_M$
* $M, v \models P(f(a))$  ⇔ $\|f(a)\|^v_M \in P_M \iff  f_M(\|a\|^v_M) \in P_M  $
* $M, v \models \forall x P(x)$ ⇔ для любого $d \in D$: $M, v^x_d \models Px$ ⇔ для любого $d \in D: v^x_d (x) \in P_M$  
⇔ для любого $d \in D: d \in P_M $
* $M, v \models \forall x \exists y R(x, y)$ ⇔ для любого $d \in D$ найдется $d' \in D: \langle d, d' \rangle \in R_M$

*Упражнение*. Опишите условия истинности для следующих выражений:
* $R(x, f(a, y) )$
* $\exists x P(f(x))$

*Пример*. Рассмотрим модель $M = (D, I_M)$, где 
* $D = \\{\square, \blacksquare, \triangle,\blacktriangle \\}$
* $B_M = \\{\blacksquare, \blacktriangle \\}$
* $S_M = \\{\blacksquare, \square \\}$
* $T_M = \\{ \triangle, \blacktriangle  \\}$
* $a_M = \square$
* $b_M = \blacktriangle$ 
и означивание $v: x \mapsto \triangle$.

Проверим, что следующие утверждения являются корректными:
* $M, v \models S(a) \Leftrightarrow  \|a\|^v_M \in S_M \Leftrightarrow  \square \in  \\{\blacksquare, \square \\}$
* $M, v \models T(x) \Leftrightarrow  \|x\|^v_M \in T_M \Leftrightarrow  v(x) \in T_M \Leftrightarrow  \triangle \in  \\{ \triangle, \blacktriangle \\}$

*Упражнение*. Рассмотрим модель $M$ и означивание $v$ из примера выше. Оцените корректность следующих утверждений:
* $M, v \models B(a) $
* $M, v \models B(b) $
* $M, v \models B(x) $
* $M, v \models \exists x P(x) $

*Упражнение*. 
Пусть фигуры из универсума $D$ расположены как на рисунке ниже:

![Model](images/square.pdf)

1. Пусть двухместный предикат $H(1,2)$ означает что объект 1 расположен выше объекта 2, двухместный предикат $L(1,2)$ означает что объект 1 расположен левее объекта 2 а функциональная константа $f$ означает функцию, которая возвращает ближайший объект по часовой стрелке.

* Чему равно $H_M$?
* Чему равно $L_M$?
* Чему равно $f_M$?

2. Оцените корректность следующих утверждений
* $M, v \models H(a, b)$
* $M, v \models H(a, f(b))$
* $M, v \models \forall x (B(x) \to \exists y H(y,x))$

*Определение*. *Подстановка в терм*.  Пусть $s, t$ – термы, тогда $t[s/x]$ – новый терм, который получается заменой всех вхождений переменной $x$ в терме $t$ на терм $s$. Определим $t[s/x]$ индуктивно:
* $c[s/x] = c$ для $c\in Cnst$
* $y[s/x] = y$ для $y \in Vr$ т.ч. $x \not = y$
* $x[s/x] =s $ 
* $f(t_1, \dots, t_n)[s/x] = f(t_1[s/x], \dots, t_n[s/x])$, где $f$ – $n$-местная предметная функция, $t_1, \dots, t_n$ – термы

*Пример*. $f(x)[a/x]=f(a)$, $h(f(x), a)[b/x] = h(f(b), a)$, $h(g(x), x)[f(b)/x] = h(g(f(b)), f(b))$	

*Определение*. Будем говорить, что терм $t$ свободен для подстановки в формулу $\Phi$ вместо переменной $x$. Если ни она из переменных в $t$ не окажется связанной после замены всех вхождений $x$ на $t$.

*Пример*. Терм $f(y)$ не свободен для подстановки вместо переменной $x$ в формуле $\exists y  R(x, y)$, поскольку после подстановки переменная $y$ окажется связанной:  $\exists y R(f(y), y)$.

*Определение*. *Подстановка в формулу*. $\Phi[t/x]$ обозначает формулу, которая получается в результате замены в формуле $\Phi$ всех свободных вхождений переменной $x$ на терм $t$. Терм $t$ должен быть свободен для подстановки в $\Phi$. 
Определим $\Phi[t/x]$ индуктивно: 
* $P(t_1, \dots, t_n)[t/x]= P(t_1[t/x], \dots, t_n[t/x])$	
* $(\neg \Psi)[t/x] = \neg (\Psi[t/x])$
* $(\Psi \wedge \Theta)[t/x] = \Psi[t/x] \wedge \Theta[t/x]$
* $(\forall y \Psi)[t/x] = \forall y (\Psi[t/x])$, если $x \not = y$
* $(\forall x \Psi)[t/x] = \forall x \Psi $
* $(\exists y \Psi)[t/x] = \forall y (\Psi[t/x])$, если $x \not = y$
* $(\exists x \Psi)[t/x] = \exists  x \Psi $
