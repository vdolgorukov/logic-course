---
title: Леммы об означивании
category: Jekyll
layout: post
---

*Утверждение*. Если $x \not = y$, то $(v^x_a)^y_b = (v^y_b)^x_a$. 

*Утверждение*. Пусть $x \not \in FV(\Phi)$, тогда  
$$M, v \models \Phi \Leftrightarrow \text{ для любого } a \in D: M, v^x_a \models \Phi $$

*Утверждение*.Пусть $t$ – терм, $v$ – означивание, $t':=[s/x]$, $v'=v^x_{\|s\|^v}$, тогда
$$|t'|^v = \|t\|^{v'}$$

Поясним содержание этого утверждения на примере.

*Пример*. Пусть $t:= x + 2$, $s:= x + 1$, $v: x \mapsto 3$, тогда
* $t'= t[s/x]= (x + 1) + 2$
* $\|s\|^v = \|x+1\|^{x \mapsto 3} = 4$
* $v': x \mapsto 4 $
* $\|t\|^{v'}= \|x + 2\|^{x \mapsto 4} = 6$
* $\|t'\|^{v} = \| (x+1) + 2 \|^{x \mapsto 3} = 6 $

*Доказательство* 

*Утверждение*.
Пусть $v':= v^x_{|t|^v}$, тогда
$$M, v \models \Phi [t/x] \iff M, v' \models \Phi$$

*Доказательство*. Если $x \not \in FV(\Phi)$, тогда $\Phi[t/x] = \Phi$ и оценка  $v$ никак не влияет на истинность $\Phi$ (по утв).

Рассмотрим случаи, в которых $x \in FV(\Phi)$.

Случай 1. $\Phi = P(t_1, \dots, t_n)$.  Обозначим $t'_i:=t_i[t/x]$. Тогда

$M, v \models P(t_1, \dots, t_n)[t/x] \xLeftrightarrow{(1)}
M, v \models P(t'_1, \dots, t'_n) \xLeftrightarrow{(2)}  
\langle  |t'_1|^v, \dots, |t'_n|^v \rangle \in P_M  \xLeftrightarrow{(3)}   
\langle  |t_1|^{v'}, \dots, |t_n|^{v'} \rangle \in P_M  \xLeftrightarrow{(4)} 
M, v' \models P(t_1, \dots, t_n)$

$(1)$ верно в силу определения подстановки и $t'_i$, $(2)$ по определению условий истинности, $(3)$ по утв., $(4)$ по определению условий истинности.

Случай 2. Случаи для связок доказываются по предположению индукции.

Случай 3. $\Phi = \forall y \Psi$. 

$M, v \models \forall y \Psi [t/x] \xLeftrightarrow{(1)}$ 
$\text{для любого }  d \in D: M, v^y_d \models \Psi [t/x]  \xLeftrightarrow{(2)}$
$\text{для любого } d \in D: M, (v^y_d)^x_{|t|^v} \models \Psi \xLeftrightarrow{(3)}$ 
$\text{для любого } d \in D: M, (v^x_{|t|^v})^y_d \models \Psi \xLeftrightarrow{(4)}$
$M, v^x_{|t|^v} \models \forall y \Psi \xLeftrightarrow{(5)} M, v' \models \forall y \Psi$

$(1)$ верно по определению условий истинности, $(2)$ верно в силу предположения индукции, $(3)$ верно по утв. (важно, что $x \not = y $), $(4)$ верно по определению условий истинности, $(5)$ верно по определению $v'$.

Случай 4. $\Phi = \forall y \Psi$.  Доказывается аналогично случаю 3 (упражнение).
